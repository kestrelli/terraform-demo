## èƒŒæ™¯

æœ¬ Playbook æ—¨åœ¨æŒ‡å¯¼æ‚¨é€šè¿‡ Kubernetes çš„ `VPC-CNI` ç½‘ç»œæ¨¡å¼ï¼Œå®ç° â€‹**CLB ç›´è¿ä¸šåŠ¡ Pod**â€‹ çš„èƒ½åŠ›ï¼Œç¡®ä¿ä¸šåŠ¡ Pod æ”¶åˆ°çš„è¯·æ±‚æº IP ä¸ºå®¢æˆ·ç«¯çœŸå® IPã€‚æœ¬æ–¹æ¡ˆå®Œå…¨ç»•è¿‡ NodePortï¼Œé€‚ç”¨äºè…¾è®¯äº‘å®¹å™¨æœåŠ¡ï¼ˆTKEï¼‰ç¯å¢ƒã€‚

### å‰ç½®æ¡ä»¶

1. â€‹**é›†ç¾¤ç¯å¢ƒ**â€‹
	- TKE é›†ç¾¤éœ€å¯ç”¨ `VPC-CNI` ç½‘ç»œæ¨¡å¼
	- ç¡®ä¿é›†ç¾¤æœ‰å¯ç”¨èŠ‚ç‚¹ä¸” `kubectl` å·²é…ç½®è®¿é—®æƒé™
2. â€‹**é•œåƒå‡†å¤‡**â€‹
	- å·²æ„å»ºä¸šåŠ¡é•œåƒå¹¶æ¨é€è‡³è…¾è®¯äº‘é•œåƒä»“åº“ï¼ˆä¸ªäººç‰ˆ/ä¼ä¸šç‰ˆï¼‰
	- ç¤ºä¾‹é•œåƒç‰ˆæœ¬ï¼š`vickytan-demo.tencentcloudcr.com/kestrelli/imagesï¼šv1.0`

### æ“ä½œæµç¨‹

#### Step 1: åˆ›å»ºä¸šåŠ¡å·¥ä½œè´Ÿè½½ï¼ˆDeploymentï¼‰
â€‹**1.åˆ›å»º Deployment YAML æ–‡ä»¶(å­˜æ”¾äºdeployment.yaml)**â€‹
ğŸ“Œ â€‹**å…³é”®é…ç½®**â€‹
- `metadata.labels` éœ€ä¸åç»­ Service é€‰æ‹©å™¨åŒ¹é…
- `containerPort` éœ€ä¸ä¸šåŠ¡å®é™…ç«¯å£ä¸€è‡´
â€‹**2.éƒ¨ç½²å·¥ä½œè´Ÿè½½**â€‹

``` 
kubectl apply -f deployment.yaml
```

**3.éªŒè¯ Pod çŠ¶æ€**
â€‹**é¢„æœŸè¾“å‡º**â€‹ï¼šæ‰€æœ‰ Pod çŠ¶æ€ä¸º `Running`
```
kubectl get pods -l app=real-ip-app
```
![æˆªå›¾](/Users/kestrelli/Desktop/LoadBalancer+ç›´è¿+Pod+æ¨¡å¼+Service+è·å–çœŸå®æº+IP+Playbook/images/pod1.png)
